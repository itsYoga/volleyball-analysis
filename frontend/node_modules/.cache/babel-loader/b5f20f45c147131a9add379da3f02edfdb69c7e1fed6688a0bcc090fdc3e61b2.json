{"ast":null,"code":"var _jsxFileName = \"/Users/jesse/Documents/\\u5C08\\u984C/volleyball_analysis_webapp/frontend/src/components/PlayerHeatmap.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const PlayerHeatmap = ({\n  playerTracks,\n  videoSize,\n  playerFilter\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    if (!(videoSize !== null && videoSize !== void 0 && videoSize.width) || !(videoSize !== null && videoSize !== void 0 && videoSize.height)) return;\n    const ctx = canvasRef.current.getContext('2d');\n    ctx.clearRect(0, 0, videoSize.width, videoSize.height);\n    playerTracks.forEach(({\n      players\n    }) => {\n      players.filter(p => !playerFilter || playerFilter === p.id).forEach(p => {\n        ctx.fillStyle = \"rgba(255,0,0,0.07)\";\n        const [x1, y1, x2, y2] = p.bbox;\n        ctx.fillRect(x1, y1, x2 - x1, y2 - y1);\n      });\n    });\n  }, [playerTracks, videoSize, playerFilter]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    width: videoSize.width || 640,\n    height: videoSize.height || 360,\n    className: \"pointer-events-none\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 10\n  }, this);\n};\n_s(PlayerHeatmap, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n_c = PlayerHeatmap;\nvar _c;\n$RefreshReg$(_c, \"PlayerHeatmap\");","map":{"version":3,"names":["React","useRef","useEffect","jsxDEV","_jsxDEV","PlayerHeatmap","playerTracks","videoSize","playerFilter","_s","canvasRef","width","height","ctx","current","getContext","clearRect","forEach","players","filter","p","id","fillStyle","x1","y1","x2","y2","bbox","fillRect","ref","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/jesse/Documents/專題/volleyball_analysis_webapp/frontend/src/components/PlayerHeatmap.tsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\n\ninterface PlayerHeatmapProps {\n  playerTracks: any[];\n  videoSize: { width: number; height: number } | any;\n  playerFilter?: any;\n}\n\nexport const PlayerHeatmap: React.FC<PlayerHeatmapProps> = ({ playerTracks, videoSize, playerFilter }) => {\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    if (!videoSize?.width || !videoSize?.height) return;\n    const ctx = canvasRef.current.getContext('2d');\n    ctx.clearRect(0,0,videoSize.width,videoSize.height);\n    playerTracks.forEach(({players}) => {\n      players.filter(p => !playerFilter || playerFilter === p.id).forEach(p => {\n        ctx.fillStyle = \"rgba(255,0,0,0.07)\";\n        const [x1, y1, x2, y2] = p.bbox;\n        ctx.fillRect(x1, y1, x2-x1, y2-y1);\n      });\n    });\n  }, [playerTracks, videoSize, playerFilter]);\n  return <canvas ref={canvasRef} width={videoSize.width||640} height={videoSize.height||360} className=\"pointer-events-none\"/>;\n};\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAQjD,OAAO,MAAMC,aAA2C,GAAGA,CAAC;EAAEC,YAAY;EAAEC,SAAS;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EACxG,MAAMC,SAAS,GAAGT,MAAM,CAAC,IAAI,CAAC;EAC9BC,SAAS,CAAC,MAAM;IACd,IAAI,EAACK,SAAS,aAATA,SAAS,eAATA,SAAS,CAAEI,KAAK,KAAI,EAACJ,SAAS,aAATA,SAAS,eAATA,SAAS,CAAEK,MAAM,GAAE;IAC7C,MAAMC,GAAG,GAAGH,SAAS,CAACI,OAAO,CAACC,UAAU,CAAC,IAAI,CAAC;IAC9CF,GAAG,CAACG,SAAS,CAAC,CAAC,EAAC,CAAC,EAACT,SAAS,CAACI,KAAK,EAACJ,SAAS,CAACK,MAAM,CAAC;IACnDN,YAAY,CAACW,OAAO,CAAC,CAAC;MAACC;IAAO,CAAC,KAAK;MAClCA,OAAO,CAACC,MAAM,CAACC,CAAC,IAAI,CAACZ,YAAY,IAAIA,YAAY,KAAKY,CAAC,CAACC,EAAE,CAAC,CAACJ,OAAO,CAACG,CAAC,IAAI;QACvEP,GAAG,CAACS,SAAS,GAAG,oBAAoB;QACpC,MAAM,CAACC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,CAAC,GAAGN,CAAC,CAACO,IAAI;QAC/Bd,GAAG,CAACe,QAAQ,CAACL,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAACF,EAAE,EAAEG,EAAE,GAACF,EAAE,CAAC;MACpC,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,EAAE,CAAClB,YAAY,EAAEC,SAAS,EAAEC,YAAY,CAAC,CAAC;EAC3C,oBAAOJ,OAAA;IAAQyB,GAAG,EAAEnB,SAAU;IAACC,KAAK,EAAEJ,SAAS,CAACI,KAAK,IAAE,GAAI;IAACC,MAAM,EAAEL,SAAS,CAACK,MAAM,IAAE,GAAI;IAACkB,SAAS,EAAC;EAAqB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAC,CAAC;AAC9H,CAAC;AAACzB,EAAA,CAfWJ,aAA2C;AAAA8B,EAAA,GAA3C9B,aAA2C;AAAA,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}